<script src="../node_modules/vue/dist/vue.js"></script>

<div id="app"></div>

<script>
  /* 
    Redux中的核心概念为reducer
    reducer接收旧的状态和action, 并返回一个全新的state 副本
    基于preState这个旧状态, 通过actionType处理返回基于preState的状态对象

    非常实用, 在于它接收一些参数然后返回
  */
  // reducer
  const reducer = (preState, actionType) => {
    switch (actionType) {
      case 'inc':
        return { count: preState.count + 1 }
      case 'dec':
        return { count: preState.count - 1 }
      default:
        return preState
    }
  }

  function app({ el, model, view, actions }) {
    // Implement this!




  }

  // voila
  app({
    el: '#app',
    model: {
      count: 0
    },
    actions: {
      inc: ({ count }) => ({ count: count + 1 }),
      dec: ({ count }) => ({ count: count - 1 })
    },
    view: (h, model, actions) => h('div', [
      model.count, ' ',
      h('button', { on: { click: actions.inc } }, '+'),
      h('button', { on: { click: actions.dec } }, '-')
    ])
  })
</script>